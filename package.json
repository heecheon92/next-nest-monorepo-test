{
  "name": "monorepo",
  "private": true,
  "packageManager": "pnpm@9.7.1",
  "scripts": {
    "dev": "concurrently \"pnpm -C apps/nextjs dev\" \"pnpm -C apps/nestjs start:dev\"",
    "lint": "pnpm -C apps/nextjs typecheck && pnpm -C apps/nextjs lint && pnpm -C apps/nestjs typecheck && pnpm -C apps/nestjs lint",
    "lint:fix": "pnpm -C apps/nextjs typecheck && pnpm -C apps/nextjs lint:fix && pnpm -C apps/nestjs typecheck && pnpm -C apps/nestjs lint:fix",
    "pret": "pnpm -C apps/nextjs format && pnpm -C apps/nestjs format",
    "pret:fix": "pnpm -C apps/nextjs format && pnpm -C apps/nestjs format",
    "biome": "pnpm -C apps/nextjs typecheck && pnpm -C apps/nextjs lint && pnpm -C apps/nestjs typecheck && pnpm -C apps/nestjs lint",
    "biome:fix": "pnpm -C apps/nextjs typecheck && pnpm -C apps/nextjs lint:fix && pnpm -C apps/nestjs typecheck && pnpm -C apps/nestjs lint:fix",
    "biome:summary": "pnpm -C apps/nextjs lint && pnpm -C apps/nestjs lint",
    "docker:build": "pnpm biome && docker build --no-cache -f apps/nextjs/Dockerfile -t next-nest/nextjs:latest . && docker build --no-cache -f apps/nestjs/Dockerfile -t next-nest/nestjs:latest .",
    "docker:deploy": "pnpm docker:build && docker stack deploy -c docker-stack.yml next-nest",
    "docker:tar:amd64": "mkdir -p dist/images && docker buildx build --no-cache --platform linux/amd64 -f apps/nextjs/Dockerfile -t next-nest/nextjs:amd64 --output type=docker,dest=dist/images/nextjs_amd64.tar . && docker buildx build --no-cache --platform linux/amd64 -f apps/nestjs/Dockerfile -t next-nest/nestjs:amd64 --output type=docker,dest=dist/images/nestjs_amd64.tar .",
    "docker:tar:arm64": "mkdir -p dist/images && docker buildx build --no-cache --platform linux/arm64 -f apps/nextjs/Dockerfile -t next-nest/nextjs:arm64 --output type=docker,dest=dist/images/nextjs_arm64.tar . && docker buildx build --no-cache --platform linux/arm64 -f apps/nestjs/Dockerfile -t next-nest/nestjs:arm64 --output type=docker,dest=dist/images/nestjs_arm64.tar .",
    "docker:tar:all": "pnpm docker:tar:amd64 && pnpm docker:tar:arm64",
    "docker:clean-images": "docker images \"next-nest/*\" -q | xargs -r docker rmi -f"
  },
  "devDependencies": {
    "@biomejs/biome": "2.2.4",
    "concurrently": "^9.0.0"
  },
  "workspaces": [
    "apps/*",
    "packages/*"
  ]
}
